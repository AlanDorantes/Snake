@startuml Snake

class AssetCtrl{
    -m_textures
    -m_fonts
    +AddTexture(int, string, bool)
    +AddFont(int, string)
    +GetTexture(int)
    +GetFont(int)

}

class  Contro{
    -m_window
    -m_assets
    -m_window
}

class GameOver {
    -m_control
    -m_gameOverTitulo
    -m_salir
    -m_fondo
    -m_salirSelected
    -m_salirPressed
}

class GamePlay {
    -m_control
    -m_snake
    -m_manzana
    -m_score
    -m_muro
    -m_mapa
    -m_musica
    -m_scoreText
    -m_snakeDireccion
    -m_tiempoTranscurrido
}

class GameSnake{
    -m_control
    -timePerFrame
    +Run()
}

class MenuPr {
    -m_control
    -m_titulo
    -m_jugar
    -m_salir
    -m_fondo
    -m_jugarSelected
    -m_jugarPressed
    -m_salirSelected
    -m_salirPressed
}

class Snake{
    -m_cuerpo
    -m_cabeza
    -m_cola
    -m_pos
    +Init(Texture, Texture)
    +Mover(Vector2f, Texture, Texture)
    +Colision(Sprite)
    +Crecer(Vector2f, Texture)
    +AutoColision()
}

class State{
    +Init()
    +Update()
    +Draw()
    +ProcessInput(Time)
}

class StateCtrl{
    -m_stateStack
    -m_newState
    -m_add
    -m_replace
    -m_remove
    -m_removeAll
    +PopCurrent()
    +Add(State, bool)
    +PopAll()
    +ProcessStateChanges()
    +IsEmpty()
}

GameSnake *-- GameOver
GameSnake *-- GamePlay
GameSnake *-- MenuPr
MenuPr "1" *-- "*" AssetCtrl
GamePlay "1" *-- "*" AssetCtrl
GameOver "1" *-- "*" AssetCtrl
GamePlay "1" *-- "1" Snake
GameOver --|> "*" State
GamePlay --|> "*" State
MenuPr --|> "*" State
StateCtrl o-- State
GameSnake o-- StateCtrl

@enduml